
input {
  <% unless @sqs_queue.empty? %>
  sqs {
    access_key_id => "<%= @aws_access_key %>"
    secret_access_key => "<%= @aws_secret_key %>"
    region => "<%= @aws_region %>"
    queue => "<%= @sqs_queue %>"
    use_ssl => "false"
    codec => "json"
  }
  <% end %>
}

filter {
}

output {
  <% unless @elasticsearch_host.empty? %>
  # all output gets pushed into elasticsearch
  elasticsearch {
    cluster => "<%= @elasticsearch_cluster %>"
    host => "<%= @elasticsearch_host %>"
    codec => "json"
    protocol => "http"
  }
  <% end %>
}

